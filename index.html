<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <link rel="stylesheet" type="text/css" href="/styles.css">
        <title>Hello World</title>
        <script>
            // define the callAPI function that takes a first name and last name as parameters
            var callAPI = (firstName,lastName)=> {
            // instantiate a headers object
            var myHeaders = new Headers();
            // add content type header to object
            myHeaders.append("Content-Type", "application/json");
            // using built in JSON utility package turn object to string and store in a variable
            var raw = JSON.stringify({"firstName":firstName,"lastName":lastName});
            // create a JSON object with parameters for API call and store in a variable
            var requestOptions = {
                method: 'POST',
                headers: myHeaders,
                body: raw,
                redirect: 'follow'
            };
            // api call
            fetch("https://ivjulu6rb0.execute-api.us-east-1.amazonaws.com/dev", requestOptions)
            .then(response => response.text())
            .then(result => alert(JSON.parse(result).body))
            .catch(error => console.log('error', error));
            }
        </script>
    </head>
    <body>
        <div class="container-header">
            <header  id="nav-wrapper">
                <nav id="nav">
                <div class="nav left">
                    <span class="gradient skew"><h1 class="logo un-skew"><a href="https://aws.amazon.com/pt/" target="_blank"></a></h1></span>
                    <button id="menu" class="btn-nav"><span class="fas fa-bars"></span></button>
                </div>
                <div class="nav right">
                    <a href="#home" class="nav-link active"><span class="nav-link-span"><span class="u-nav">INFO</span></span></a>
                    <a href="https://www.linkedin.com/in/4lex/" target="_blank" class="nav-link"><span class="nav-link-span"><span class="u-nav">LikedIn</span></span></a>
                    <a href="https://github.com/4lexRossi" target="_blank" class="nav-link"><span class="nav-link-span"><span class="u-nav">Github</span></span></a>
                    <a href="https://wa.me/5519988308501" target="_blank" class="nav-link"><span class="nav-link-span"><span class="u-nav">whatsApp</span></span></a>
                </div>
                </nav>
            </header>
        </div>
        <div class="container-form">
            <form class="form">
                <label>First Name :</label>
                <input type="text" id="fName">
                <label>Last Name :</label>
                <input type="text" id="lName">
                <!-- set button onClick method to call function we defined passing input values as parameters -->
                <button type="button" onclick="callAPI(document.getElementById('fName').value,document.getElementById('lName').value)">Call API</button>
            </form>
        </div>    
    </body>
</html>